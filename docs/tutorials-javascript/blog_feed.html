<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" >

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
		<link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Cousine|Inconsolata" rel="stylesheet">
		
		<link rel="shortcut icon" type="image/png" href="/favicon.png">
		

		
		<link rel="stylesheet" href="/css/style.css">
		<link rel="stylesheet" href="/css/css/fontawesome-all.min.css">
		<script src="/js/main.js"></script>
		

		<!-- Begin Jekyll SEO tag v2.1.0 -->
<title>Blog Feed - Steem Developer</title>
<meta property="og:title" content="Blog Feed" />
<meta name="description" content="A simple blog feed tutorial using javascript" />
<meta property="og:description" content="A simple blog feed tutorial using javascript" />
<link rel="canonical" href="https://developer.steem.io/tutorials-javascript/blog_feed" />
<meta property="og:url" content="https://developer.steem.io/tutorials-javascript/blog_feed" />
<meta property="og:site_name" content="Steem Developer" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-05-10T17:25:26-05:00" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "Blog Feed",
"datePublished": "2018-05-10T17:25:26-05:00",
"description": "A simple blog feed tutorial using javascript",
"url": "https://developer.steem.io/tutorials-javascript/blog_feed"}</script>
<!-- End Jekyll SEO tag -->


		
	</head>
	<body>
		<header>
			<h1>
				
					<a href="/"><img src="/images/logotype_white.svg" height="40" alt="Steem Developer logo"></a>
				
				<a href="/" class="logo-link"></a>
				<button type="button" class="open-nav" id="open-nav"></button>
			</h1>

			
				<form action="/search/" method="get">
					<input type="text" name="q" id="search-input" placeholder="Search">
					<input type="submit" value="Search" style="display: none;">
				</form>
			

			<div id="sidebar" class="sidebar">
	
	
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/">
		<h6 class="ctrl-nav-section title">Introduction</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/#introduction-welcome">Welcome to Steem</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/quickstart/">
		<h6 class="ctrl-nav-section title">Quickstart</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/quickstart/#quickstart-choose-library">Choose Library</a></li>
						
					
						
						<li><a href="/quickstart/#quickstart-steemd-nodes">steemd Nodes</a></li>
						
					
						
						<li><a href="/quickstart/#quickstart-testnet">Steem Testnet</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/tutorials/">
		<h6 class="ctrl-nav-section title">Tutorials</h6>
		<ul class="cont-nav-section content">
			
				
					
						<li><a href="/tutorials/#tutorials-javascript">Javascript</a></li>
					
				
					
						<li><a href="/tutorials/#tutorials-python">Python</a></li>
					
				
					
						<li><a href="/tutorials/#tutorials-ruby">Ruby</a></li>
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/services/">
		<h6 class="ctrl-nav-section title">Services</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/services/#services-steemit">Steemit.com</a></li>
						
					
						
						<li><a href="/services/#services-sbds">SBDS</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/apidefinitions/">
		<h6 class="ctrl-nav-section title">Appbase API</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/apidefinitions/#apidefinitions-condenser-api">Condenser Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-account-by-key-api">Account By Key Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-account-history-api">Account History Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-database-api">Database Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-follow-api">Follow Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-jsonrpc">Jsonrpc</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-market-history-api">Market History Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-network-broadcast-api">Network Broadcast Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-tags-api">Tags Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-witness-api">Witness Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-block-api">Block Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-broadcast-ops">Broadcast Ops</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/community/">
		<h6 class="ctrl-nav-section title">Community</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/community/#community-overview">Overview</a></li>
						
					
						
						<li><a href="/community/#community-resources">Resources</a></li>
						
					
						
						<li><a href="/community/#community-developeradvocate">Sharing & Help</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/glossary/">
		<h6 class="ctrl-nav-section title">Glossary</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/glossary/#glossary-chain-basics">Chain Basics</a></li>
						
					
						
					
						
						<li><a href="/glossary/#glossary-governance">Governance</a></li>
						
					
						
						<li><a href="/glossary/#glossary-transactions">Transactions</a></li>
						
					
						
						<li><a href="/glossary/#glossary-api">API</a></li>
						
					
						
						<li><a href="/glossary/#glossary-market">Market</a></li>
						
					
				
			
		</ul>
	</section>
	
</div>


			<!--<p class="copyright">-->
				<!--<a href="https://steemit.com.com/">-->
				  <!--steemit-->
				<!--</a>-->
			<!--</p>-->
			<link href="https://fonts.googleapis.com/css?family=Nunito" rel="stylesheet">
		</header>
		<div class="main" id="top">
			<div class="hero">
				<h1 class="hero__h1">Steem Developer Portal </h1>
				
				<img class="hero__img" src="/images/hero.png">
				
			</div>
			<section id="tutorials-javascript-blog-feed" class="doc-content tutorials-javascript-blog-feed">
	<section class="left-docs">
		<h3>
			<a id="tutorials-javascript-blog-feed">
				Blog Feed
				
			</a>
		</h3>
		
			<p class="description">A simple blog feed tutorial using javascript</p>
		

		<p>In this tutorials we will build simple webapp or blog for particular user on
Steem blockchain using simple HTML and Javascript.</p>

<p>Using the <a href="https://github.com/jnordberg/dsteem">dsteem</a> library, process is
super easy, fetch user blog posts from blockchain and style them accordingly.</p>

<p>By default the <code class="highlighter-rouge">dsteem</code> library connects to steemit.com’s public Steem nodes. To
kickstart development this is entirely acceptable. If your STEEM app turns into
a larger project and maybe even a full-fledged site you may want to consider
running your own nodes. If you want to use different Steem nodes, it can be
specified with <code class="highlighter-rouge">dsteem</code> but it’s left out for this simple example.</p>

<h4 id="tutorial-setup-">Tutorial Setup <a href="/tutorials-javascript/getting-started"><img src="/images/look.svg" width="16" height="16" /></a></h4>

<ul>
  <li>clone
<a href="https://github.com/steemit/devportal-tutorials-js">https://github.com/steemit/devportal-tutorials-js</a></li>
  <li>run either <code class="highlighter-rouge">npm i</code> or <code class="highlighter-rouge">yarn install</code></li>
  <li>run <code class="highlighter-rouge">npm run start</code></li>
  <li>browse to (http://localhost:4000/)</li>
</ul>

<blockquote>
  <p>The actual tutorial is available in the subfolder of the above repo under the
url
<a href="https://github.com/steemit/devportal-tutorials-js/tree/master/tutorials/01_blog_feed">https://github.com/steemit/devportal-tutorials-js/tree/master/tutorials/01_blog_feed</a></p>
</blockquote>

<p>Open your favorite text editor or IDE (atom, sublimetext, text edit, or even
notepad).</p>

<h3 id="indexhtml"><a href="https://github.com/steemit/devportal-tutorials-js/blob/master/tutorials/01_blog_feed/public/index.html">index.html</a></h3>

<blockquote>
  <p>Make a basic html file that contains the structure for the javascript to
populate with results returned by the api. Basic bootstrap styling is used.</p>
</blockquote>

<h3 id="appjs"><a href="https://github.com/steemit/devportal-tutorials-js/blob/master/tutorials/01_blog_feed/public/app.js">app.js</a></h3>

<blockquote>
  <p>A seperate javascript file exists with the application to query the API and
populate the HTML document with the results returned. We are calling
<code class="highlighter-rouge">fetchBlog()</code> function when body of the page is onload.</p>
</blockquote>

<h3 id="indexjs"><a href="https://github.com/steemit/devportal-tutorials-js/blob/master/tutorials/01_blog_feed/index.js">index.js</a></h3>

<blockquote>
  <p>index.js is a basic javascript file that loads a <code class="highlighter-rouge">koa</code> based webserver serving
the tutorial so you can access it via a browser</p>
</blockquote>

<h4 id="fetchblog">fetchBlog</h4>

<blockquote>
  <p><strong>fetchBlog</strong> function creates simple query object where tag is set to account
name on Steem and limit is set to number of posts being pulled from that
account. By using <code class="highlighter-rouge">client.database.getDiscussions</code> dsteem function we are able
to query user’s blog posts and reformat them into list of posts. Each blog
post has <code class="highlighter-rouge">json_metadata</code> which holds meta information in post, using that we
are able to extract first image from post and use it as thumbnail, post author
and created information is also formatted and displayed.</p>
</blockquote>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">query</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">tag</span><span class="p">:</span> <span class="s1">'steemitblog'</span><span class="p">,</span> <span class="c1">// This tag is used to filter the results by a specific post tag</span>
  <span class="na">limit</span><span class="p">:</span> <span class="mi">5</span> <span class="c1">// This limit allows us to limit the overall results returned to 5</span>
<span class="p">};</span>
</code></pre>
</div>

<p><code class="highlighter-rouge">tag</code> - this <a href="/glossary/#Tags">tag</a> is used to limit the types of posts that are
returned. Each post is assigned multiple tags upon creation and by doing this
allows you to filter what results are returned.</p>

<p><code class="highlighter-rouge">limit</code> - this limit allows us to limit the amount of records that are returned
on a query. By not having a limit you could returned a large amount of data
which might cause performance issues. By limiting the amount of results you
return a smaller subset of data that you can work with.</p>

<p>Place <strong>script line</strong> and <strong>fetchBlog</strong> function into <code class="highlighter-rouge">&lt;head&gt;</code> and save the file
as <code class="highlighter-rouge">user-blog.html</code> and load it in your web browser. That’s it, congratulations
on your first app!</p>

<h4 id="json-result">JSON Result</h4>

<blockquote>
  <p>A sample of the JSON returned by the <code class="highlighter-rouge">fetchBlog()</code> function is set out below.
Key items to note are the following</p>
</blockquote>

<ul>
  <li>url - This allows you to link back to the original article on Steem</li>
  <li>json_metadata - This contains custom specific information for the post. It is
a JSON object which must be parsed using <code class="highlighter-rouge">JSON.parse</code> to access. For posts
this contains the image URL that is stored online</li>
</ul>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">37338948</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"steemitblog"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"permlink"</span><span class="p">:</span><span class="w"> </span><span class="s2">"join-team-steemit-at-tokenfest"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"steemit"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"parent_author"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"parent_permlink"</span><span class="p">:</span><span class="w"> </span><span class="s2">"steemit"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Join Team Steemit at TokenFest!"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;a href=\"https://tokenfest.adria.digital\"&gt;&lt;img src=\"https://i.imgur.com/fOScDIW.png\"/&gt;&lt;/a&gt;\n\nHello Steemians! If you’d like to meet Team Steemit live-in-person, or are just interested in attending what promises to be a great blockchain conference, join us at &lt;a href=\"https://tokenfest.adria.digital/\"&gt;TokenFest&lt;/a&gt; in San Francisco from March 15th to 16th. \n\nSteemit CEO, Ned Scott, will be participating in a fireside chat alongside Steemit’s CTO, Harry Schmidt, as well as the creator of Utopian.io, Diego Pucci. Steemit will also be hosting the opening party on Thursday night and we’d certainly love to meet as many of you as possible IRL, so head on over to https://tokenfest.adria.digital/ and get your tickets while you can. \n\n*Team Steemit*"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"json_metadata"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{\"tags\":[\"steemit\",\"tokenfest\",\"conference\"],\"image\":[\"https://i.imgur.com/fOScDIW.png\"],\"links\":[\"https://tokenfest.adria.digital\",\"https://tokenfest.adria.digital/\"],\"app\":\"steemit/0.1\",\"format\":\"markdown\"}"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_update"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-07T23:22:54"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-07T20:56:36"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"active"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-13T01:40:21"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_payout"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1970-01-01T00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"depth"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"children"</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w">
    </span><span class="nt">"net_rshares"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11453442114933"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"abs_rshares"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11454054795840"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"vote_rshares"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11454054795840"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"children_abs_rshares"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13568695606090"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cashout_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T20:56:36"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"max_cashout_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1969-12-31T23:59:59"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_vote_weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">3462435</span><span class="p">,</span><span class="w">
    </span><span class="nt">"reward_weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_payout_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000 SBD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"curator_payout_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000 SBD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author_rewards"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"net_votes"</span><span class="p">:</span><span class="w"> </span><span class="mi">77</span><span class="p">,</span><span class="w">
    </span><span class="nt">"root_comment"</span><span class="p">:</span><span class="w"> </span><span class="mi">37338948</span><span class="p">,</span><span class="w">
    </span><span class="nt">"max_accepted_payout"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000 SBD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"percent_steem_dollars"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"allow_replies"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"allow_votes"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"allow_curation_rewards"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"beneficiaries"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/steemit/@steemitblog/join-team-steemit-at-tokenfest"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"root_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Join Team Steemit at TokenFest!"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"pending_payout_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"46.436 SBD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pending_payout_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000 STEEM"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"active_votes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"voter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"steemitblog"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"rshares"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1870813909383"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"reputation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"128210130644387"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-07T20:56:36"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"voter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kevinwong"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">526653</span><span class="p">,</span><span class="w">
        </span><span class="nt">"rshares"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2208942520687"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"reputation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"374133832002581"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-08T04:27:00"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"replies"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"author_reputation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"128210130644387"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"promoted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000 SBD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"body_length"</span><span class="p">:</span><span class="w"> </span><span class="mi">754</span><span class="p">,</span><span class="w">
    </span><span class="nt">"reblogged_by"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
</div>

	</section>

	
		<section class="right-code">
			<p class="static-right-section-title">index.html</p>
<div class="language-html highlighter-rouge"><pre class="highlight"><code>  <span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;&lt;title&gt;</span>User blog<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"bundle.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h2&gt;</span>Welcome to my blog!<span class="nt">&lt;/h2&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"list-group"</span> <span class="na">id=</span><span class="s">"postList"</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
  <span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>
<p class="static-right-section-title">app.js</p>
<div class="language-javascript highlighter-rouge"><pre class="highlight"><code>  <span class="kr">const</span> <span class="p">{</span> <span class="nx">Client</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'dsteem'</span><span class="p">);</span>

  <span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Client</span><span class="p">(</span><span class="s1">'https://api.steemit.com'</span><span class="p">);</span>

  <span class="kd">function</span> <span class="nx">fetchBlog</span><span class="p">()</span>
  <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">query</span> <span class="o">=</span> <span class="p">{</span>
          <span class="na">tag</span><span class="p">:</span> <span class="s1">'steemitblog'</span><span class="p">,</span>
          <span class="na">limit</span><span class="p">:</span> <span class="mi">5</span>
      <span class="p">};</span>
      <span class="nx">client</span><span class="p">.</span><span class="nx">database</span><span class="p">.</span><span class="nx">getDiscussions</span><span class="p">(</span><span class="s1">'trending'</span><span class="p">,</span> <span class="nx">query</span><span class="p">).</span><span class="nx">then</span><span class="p">((</span><span class="nx">result</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="kd">var</span> <span class="nx">posts</span> <span class="o">=</span> <span class="p">[];</span>
          <span class="nx">result</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span> <span class="p">(</span><span class="nx">post</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
              <span class="kr">const</span> <span class="nx">image</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">post</span><span class="p">.</span><span class="nx">json_metadata</span><span class="p">).</span><span class="nx">image</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
              <span class="kr">const</span> <span class="nx">title</span> <span class="o">=</span> <span class="nx">post</span><span class="p">.</span><span class="nx">title</span><span class="p">;</span>
              <span class="kr">const</span> <span class="nx">author</span> <span class="o">=</span> <span class="nx">post</span><span class="p">.</span><span class="nx">author</span><span class="p">;</span>
              <span class="kr">const</span> <span class="nx">created</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">post</span><span class="p">.</span><span class="nx">created</span><span class="p">).</span><span class="nx">toDateString</span><span class="p">();</span>
              <span class="nx">posts</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
                  <span class="err">`</span><span class="o">&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="s2">"#"</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"list-group-item"</span><span class="o">&gt;&lt;</span><span class="nx">h4</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"list-group-item-heading"</span><span class="o">&gt;</span><span class="nx">$</span><span class="p">{</span><span class="nx">title</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/h4&gt;&lt;p&gt;by ${author}&lt;/</span><span class="nx">p</span><span class="o">&gt;&lt;</span><span class="nx">center</span><span class="o">&gt;&lt;</span><span class="nx">img</span> <span class="nx">src</span><span class="o">=</span><span class="s2">"${image}"</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"img-responsive center-block"</span> <span class="nx">style</span><span class="o">=</span><span class="s2">"max-width: 450px"</span><span class="o">/&gt;&lt;</span><span class="sr">/center&gt;&lt;p class="list-group-item-text text-right text-nowrap"&gt;${created}&lt;/</span><span class="nx">p</span><span class="o">&gt;&lt;</span><span class="sr">/a&gt;</span><span class="err">`
</span>              <span class="p">)</span>
          <span class="p">});</span>
          <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'postList'</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">posts</span><span class="p">.</span><span class="nx">join</span><span class="p">();</span>
      <span class="p">}).</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s1">'Error occured'</span><span class="p">);</span>
      <span class="p">});</span>
  <span class="p">}</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="nx">fetchBlog</span><span class="p">();</span>
</code></pre>
</div>

<p class="static-right-section-title">index.js</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code>  <span class="kr">const</span> <span class="nx">Koa</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'koa'</span><span class="p">);</span>
  <span class="kr">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Koa</span><span class="p">();</span>
  <span class="kr">const</span> <span class="nx">serve</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'koa-static'</span><span class="p">);</span>
  <span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">serve</span><span class="p">(</span><span class="s1">'./public'</span><span class="p">));</span>

  <span class="nx">app</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="mi">3000</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'listening on port 3000'</span><span class="p">);</span>    
</code></pre>
</div>

		</section>
	
</section>

		</div>
		<script>
			document.getElementById("open-nav").addEventListener("click", function () {
				document.body.classList.toggle("nav-open");
			});
		</script>
	</body>
</html>


<script src="/js/adjust.js"></script>

