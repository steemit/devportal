<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" >

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
		<link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Cousine|Inconsolata" rel="stylesheet">
		
		<link rel="shortcut icon" type="image/png" href="/favicon.png">
		

		
		<link rel="stylesheet" href="/css/style.css">
		<link rel="stylesheet" href="/css/css/fontawesome-all.min.css">
		<script src="/js/main.js"></script>
		

		<!-- Begin Jekyll SEO tag v2.1.0 -->
<title>SteemConnect - Steem Developer</title>
<meta property="og:title" content="SteemConnect" />
<meta name="description" content="Tutorial is about Authorization on Steem and usage of SteemConnect" />
<meta property="og:description" content="Tutorial is about Authorization on Steem and usage of SteemConnect" />
<link rel="canonical" href="https://developer.steem.io/tutorials-javascript/steemconnect" />
<meta property="og:url" content="https://developer.steem.io/tutorials-javascript/steemconnect" />
<meta property="og:site_name" content="Steem Developer" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-05-10T17:25:26-05:00" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "SteemConnect",
"datePublished": "2018-05-10T17:25:26-05:00",
"description": "Tutorial is about Authorization on Steem and usage of SteemConnect",
"url": "https://developer.steem.io/tutorials-javascript/steemconnect"}</script>
<!-- End Jekyll SEO tag -->


		
	</head>
	<body>
		<header>
			<h1>
				
					<a href="/"><img src="/images/logotype_white.svg" height="40" alt="Steem Developer logo"></a>
				
				<a href="/" class="logo-link"></a>
				<button type="button" class="open-nav" id="open-nav"></button>
			</h1>

			
				<form action="/search/" method="get">
					<input type="text" name="q" id="search-input" placeholder="Search">
					<input type="submit" value="Search" style="display: none;">
				</form>
			

			<div id="sidebar" class="sidebar">
	
	
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/">
		<h6 class="ctrl-nav-section title">Introduction</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/#introduction-welcome">Welcome to Steem</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/quickstart/">
		<h6 class="ctrl-nav-section title">Quickstart</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/quickstart/#quickstart-choose-library">Choose Library</a></li>
						
					
						
						<li><a href="/quickstart/#quickstart-steemd-nodes">steemd Nodes</a></li>
						
					
						
						<li><a href="/quickstart/#quickstart-testnet">Steem Testnet</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/tutorials/">
		<h6 class="ctrl-nav-section title">Tutorials</h6>
		<ul class="cont-nav-section content">
			
				
					
						<li><a href="/tutorials/#tutorials-javascript">Javascript</a></li>
					
				
					
						<li><a href="/tutorials/#tutorials-python">Python</a></li>
					
				
					
						<li><a href="/tutorials/#tutorials-ruby">Ruby</a></li>
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/services/">
		<h6 class="ctrl-nav-section title">Services</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/services/#services-steemit">Steemit.com</a></li>
						
					
						
						<li><a href="/services/#services-sbds">SBDS</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/apidefinitions/">
		<h6 class="ctrl-nav-section title">Appbase API</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/apidefinitions/#apidefinitions-condenser-api">Condenser Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-account-by-key-api">Account By Key Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-account-history-api">Account History Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-database-api">Database Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-follow-api">Follow Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-jsonrpc">Jsonrpc</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-market-history-api">Market History Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-network-broadcast-api">Network Broadcast Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-tags-api">Tags Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-witness-api">Witness Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-block-api">Block Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-broadcast-ops">Broadcast Ops</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/community/">
		<h6 class="ctrl-nav-section title">Community</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/community/#community-overview">Overview</a></li>
						
					
						
						<li><a href="/community/#community-resources">Resources</a></li>
						
					
						
						<li><a href="/community/#community-developeradvocate">Sharing & Help</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/glossary/">
		<h6 class="ctrl-nav-section title">Glossary</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/glossary/#glossary-chain-basics">Chain Basics</a></li>
						
					
						
					
						
						<li><a href="/glossary/#glossary-governance">Governance</a></li>
						
					
						
						<li><a href="/glossary/#glossary-transactions">Transactions</a></li>
						
					
						
						<li><a href="/glossary/#glossary-api">API</a></li>
						
					
						
						<li><a href="/glossary/#glossary-market">Market</a></li>
						
					
				
			
		</ul>
	</section>
	
</div>


			<!--<p class="copyright">-->
				<!--<a href="https://steemit.com.com/">-->
				  <!--steemit-->
				<!--</a>-->
			<!--</p>-->
			<link href="https://fonts.googleapis.com/css?family=Nunito" rel="stylesheet">
		</header>
		<div class="main" id="top">
			<div class="hero">
				<h1 class="hero__h1">Steem Developer Portal </h1>
				
				<img class="hero__img" src="/images/hero.png">
				
			</div>
			<section id="tutorials-javascript-steemconnect" class="doc-content tutorials-javascript-steemconnect">
	<section class="left-docs">
		<h3>
			<a id="tutorials-javascript-steemconnect">
				SteemConnect
				
			</a>
		</h3>
		
			<p class="description">Tutorial is about Authorization on Steem and usage of SteemConnect</p>
		

		<h2 id="goal">Goal</h2>

<p>The application in this tutorial asks the user to grant access to <code class="highlighter-rouge">demo-app</code> and get a token from Steemconnect. Once permission is granted, <code class="highlighter-rouge">demo-app</code> can get details of the user via an api call that requires an access token. 
The purpose of this is to allow any application to request permission from user and perform action via the access token.</p>

<p>Some other calls that require an access token (or login) are:</p>

<ul>
  <li>Vote</li>
  <li>Comment</li>
  <li>Post</li>
  <li>Follow</li>
  <li>Reblog</li>
</ul>

<p>Learn more about <a href="https://github.com/steemit/steemconnect-sdk">Steemconnect operations here</a></p>

<h2 id="overview">Overview</h2>

<p>Steemconnect is unified authentication system built on top of Steem and is built in a collaboration of Busy.org and Steemit Inc.
Steemconnect is a layer to ensure easy access and setup for all application developers as well as a secure way for users to interact with Steem apps.</p>

<p>Setting up Steemconnect in your app is straight-forward process and never been this easy.</p>

<ul>
  <li>This tutorial is available at <a href="https://github.com/steemit/devportal-tutorials-js">Devportal tutorials repo</a></li>
  <li>The specific Steemconnect tutorial is found here <a href="https://github.com/steemit/devportal-tutorials-js/tree/master/tutorials/02_steemconnect">Steemconnect tutorial</a></li>
</ul>

<h2 id="step-i">Step I</h2>

<ol>
  <li>
    <p>Visit <a href="https://steemconnect.com/dashboard">Steemconnect Dashboard</a> and login with your Steem credentials
<img src="https://github.com/steemit/devportal-tutorials-js/blob/master/tutorials/02_steemconnect/images/steemconnect_login.png?raw=true" alt="steemconnect_login" /></p>
  </li>
  <li>
    <p>You will see an Applications and Developers section, in Developers section click on <code class="highlighter-rouge">My Apps</code>
<img src="https://github.com/steemit/devportal-tutorials-js/blob/master/tutorials/02_steemconnect/images/steemconnect_dashboard.png?raw=true" alt="steemconnect_dashboard" />
<img src="https://github.com/steemit/devportal-tutorials-js/blob/master/tutorials/02_steemconnect/images/steemconnect_new_app.png?raw=true" alt="steemconnect_new_app" /></p>
  </li>
  <li>
    <p>Create a New App using Steemconnect, which will help you create new Steem account for your application. Letâ€™s call it <code class="highlighter-rouge">demo-app</code> for this tutorial purpose.
<img src="https://github.com/steemit/devportal-tutorials-js/blob/master/tutorials/02_steemconnect/images/steemconnect_account_create.png?raw=true" alt="steemconnect_account_create" /></p>

    <p>An account creation fee will be deducted from your balance, make sure you have enough funds to complete the account creation. Next step is to login with the account which has enough STEEM to pay for the account creation fee.</p>

    <p><img src="https://github.com/steemit/devportal-tutorials-js/blob/master/tutorials/02_steemconnect/images/steemconnect_signin.png?raw=true" alt="steemconnect_signin" /></p>
  </li>
  <li>
    <p>Give your app name, description, icon image link, website (if available) and Redirect URI(s)
 <img src="https://github.com/steemit/devportal-tutorials-js/blob/master/tutorials/02_steemconnect/images/steemconnect_myapps.png?raw=true" alt="steemconnect_myapps" /></p>
  </li>
</ol>

<p>Redirect URI(s) will be used within your application to forward user after authentication is successful. This is typical backend web development, we hope you know how to set this up.</p>

<p>* <em>Disclaimer: All images/screenshots of user interface may change as Steemconnect evolves</em></p>

<h2 id="step-ii">Step II</h2>

<p>Once you have setup your account for the new application, you can setup your application with Steemconnect authentication and API processes.</p>

<h3 id="install">Install</h3>
<p>To do that, you will need to install <code class="highlighter-rouge">sc2-sdk</code> nodejs package with <code class="highlighter-rouge">npm i sc2-sdk</code>.
Within the application you can initialize Steemconnect</p>

<h3 id="initialize">Initialize</h3>
<blockquote>
  <p><code class="highlighter-rouge">app</code> - is the account name for the application that we have created in Step I.3, <code class="highlighter-rouge">callbackURL</code> - is the Redirect URI that we have defined in Step I.4, <code class="highlighter-rouge">scope</code> - permissions application is requiring/asking from users</p>
</blockquote>

<p>Now that <code class="highlighter-rouge">sc2-sdk</code> is initialized we can start authentication and perform simple operations with Steemconnect.</p>

<h3 id="login-url">Login URL</h3>

<blockquote>
  <p>Returns login URL which will redirect the user to sign in with Steemconnect login screen. A successful login will redirect the user to the Redirect URI or <code class="highlighter-rouge">callbackURL</code>. The result of the successful login will return an <code class="highlighter-rouge">access_token</code>, <code class="highlighter-rouge">expires_in</code> and <code class="highlighter-rouge">username</code> information, which the application will start utilizing.</p>
</blockquote>

<h3 id="request-link">Request link</h3>

<blockquote>
  <p>Your application can request the link which can be used in a popup screen or relevant screen you develop. The popup screen will ask the user to identify themselves using their username and password. Once they have authenticated successfully the authentication result will be returned</p>
</blockquote>

<h3 id="result-auth">Result auth</h3>

<blockquote>
  <p>The returned json object will have the following properties</p>
</blockquote>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">result</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"access_token"</span><span class="p">:</span> <span class="s2">"xyz"</span><span class="p">,</span> <span class="c1">// used for future API calls</span>
    <span class="s2">"expires_in"</span><span class="p">:</span> <span class="mi">604800</span><span class="p">,</span> <span class="c1">// how long the access token will be valid for (in seconds) and how long the user will be logged in for</span>
    <span class="s2">"username"</span><span class="p">:</span> <span class="s2">"demo"</span> <span class="c1">// current username that is authenticated</span>
<span class="p">}</span>
</code></pre>
</div>

<h3 id="set-token">Set token</h3>

<blockquote>
  <p>After getting the <code class="highlighter-rouge">access_token</code>, we can set token for future Steemconnect API requests.</p>
</blockquote>

<h3 id="get-user-info">Get user info</h3>

<blockquote>
  <p>Users info can be checked with <code class="highlighter-rouge">me</code> which will return object</p>
</blockquote>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">result</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">account</span><span class="p">:</span> <span class="p">{</span><span class="na">id</span><span class="p">:</span><span class="nx">xxx</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span><span class="s1">'demo'</span><span class="p">,</span> <span class="na">owner</span><span class="p">:{},</span> <span class="na">active</span><span class="p">:{},...}</span> <span class="c1">// current state of account and the details as stored on the Steem blockchain</span>
    <span class="nl">name</span><span class="p">:</span> <span class="s1">'demo'</span><span class="p">,</span> <span class="c1">// the logged in username</span>
    <span class="na">scope</span><span class="p">:</span> <span class="p">[</span><span class="s1">'vote'</span><span class="p">],</span> <span class="c1">// the permissions that are allowed for the logged in user</span>
    <span class="na">user</span><span class="p">:</span> <span class="s1">'demo'</span><span class="p">,</span> <span class="c1">// the current username</span>
    <span class="na">user_metadata</span><span class="p">:</span> <span class="p">{}</span> <span class="c1">// additional information user has setup.</span>
<span class="p">}</span>
</code></pre>
</div>
<h3 id="logout">Logout</h3>

<blockquote>
  <p>In order to logout, you can use the <code class="highlighter-rouge">revokeToken</code> function from <code class="highlighter-rouge">sc2-sdk</code>.</p>
</blockquote>

<h2 id="source-code-">Source code <a href="/tutorials-javascript/getting-started"><img src="/images/look.svg" width="16" height="16" /></a></h2>

<p>To try this application visit <a href="https://github.com/steemit/devportal-tutorials-js">Devportal tutorials repo</a>, find <a href="https://github.com/steemit/devportal-tutorials-js/tree/master/tutorials/02_steemconnect">Steemconnect tutorial</a> and follow <strong>To run</strong> section in README.</p>

	</section>

	
		<section class="right-code">
			<p class="static-right-section-title">Install</p>
<div class="highlighter-rouge"><pre class="highlight"><code>npm i sc2-sdk
</code></pre>
</div>
<p class="static-right-section-title">Initialize</p>
<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="nx">sc2</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'sc2-sdk'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">sc2</span><span class="p">.</span><span class="nx">Initialize</span><span class="p">({</span>
    <span class="na">app</span><span class="p">:</span> <span class="s1">'demo-app'</span><span class="p">,</span>
    <span class="na">callbackURL</span><span class="p">:</span> <span class="s1">'http://localhost:3000'</span><span class="p">,</span>
    <span class="na">scope</span><span class="p">:</span> <span class="p">[</span><span class="s1">'vote'</span><span class="p">,</span><span class="s1">'comment'</span><span class="p">]</span>
<span class="p">})</span>
</code></pre>
</div>
<p class="static-right-section-title">Login URL</p>
<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">link</span> <span class="o">=</span> <span class="nx">sc2</span><span class="p">.</span><span class="nx">getLoginURL</span><span class="p">()</span>
</code></pre>
</div>
<p class="static-right-section-title">Request link</p>
<pre><code class="language-object">link = https://v2.steemconnect.com/oauth2/authorize?client_id=demo-app&amp;redirect_uri=http://localhost:3000&amp;scope=vote,comment
</code></pre>
<p class="static-right-section-title">Result auth</p>
<div class="highlighter-rouge"><pre class="highlight"><code>http://localhost:3000/auth?access_token=xyz&amp;expires_in=604800&amp;username=demo
access_token: xyz
expires_in: 604800
username: demo
</code></pre>
</div>
<p class="static-right-section-title">Set token</p>
<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">sc2</span><span class="p">.</span><span class="nx">setAccessToken</span><span class="p">(</span><span class="nx">access_token</span><span class="p">)</span>
</code></pre>
</div>
<p class="static-right-section-title">Get User info</p>
<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">api</span><span class="p">.</span><span class="nx">me</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">res</span><span class="p">){</span>
    <span class="c1">//json object with user info</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">res</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
</div>
<pre><code class="language-object">account: {id:xxx, name:'demo', owner:{}, active:{},...}
name: 'demo',
scope: ['vote'],
user: 'demo',
user_metadata: {},
</code></pre>
<p class="static-right-section-title">Logout</p>
<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">api</span><span class="p">.</span><span class="nx">revokeToken</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">);</span>
<span class="p">})</span>
</code></pre>
</div>

		</section>
	
</section>

		</div>
		<script>
			document.getElementById("open-nav").addEventListener("click", function () {
				document.body.classList.toggle("nav-open");
			});
		</script>
	</body>
</html>


<script src="/js/adjust.js"></script>

