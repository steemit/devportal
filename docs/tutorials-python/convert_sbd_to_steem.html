<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Cousine|Inconsolata" rel="stylesheet">
    <link rel="shortcut icon" type="image/png" href="/favicon.png">


    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/css/fontawesome-all.min.css">
    <script src="/js/main.js"></script>


    <!-- Begin Jekyll SEO tag v2.5.0 -->
    <title>PY: Convert Sbd To Steem | Steem Developer</title>
    <meta name="generator" content="Jekyll v3.8.4" />
    <meta property="og:title" content="PY: Convert Sbd To Steem" />
    <meta property="og:locale" content="en_US" />
    <meta name="description" content="How to convert your SBD to STEEM using Python." />
    <meta property="og:description" content="How to convert your SBD to STEEM using Python." />
    <link rel="canonical" href="https://developers.steem.io/tutorials-python/convert_sbd_to_steem" />
    <meta property="og:url" content="https://developers.steem.io/tutorials-python/convert_sbd_to_steem" />
    <meta property="og:site_name" content="Steem Developer" />
    <meta property="og:type" content="article" />
    <meta property="article:published_time" content="2018-11-15T17:18:46-06:00" />
    <script type="application/ld+json">
        {
            "description": "How to convert your SBD to STEEM using Python.",
            "@type": "BlogPosting",
            "url": "https://developers.steem.io/tutorials-python/convert_sbd_to_steem",
            "headline": "PY: Convert Sbd To Steem",
            "dateModified": "2018-11-15T17:18:46-06:00",
            "datePublished": "2018-11-15T17:18:46-06:00",
            "mainEntityOfPage": {
                "@type": "WebPage",
                "@id": "https://developers.steem.io/tutorials-python/convert_sbd_to_steem"
            },
            "@context": "http://schema.org"
        }
    </script>
    <!-- End Jekyll SEO tag -->



</head>

<body>
    <header>
        <h1>
            <button type="button" class="open-nav" id="open-nav"></button>
            <a href="/" class="logo-link"><img src="/images/logotype_white.svg" height="40" alt="Steem Developer logo"></a>
        </h1>


        <form action="/search/" method="get">
            <input type="text" name="q" id="search-input" placeholder="Search">
            <input type="submit" value="Search" style="display: none;">
        </form>


        <div id="sidebar" class="sidebar">




            <section class="pnl-main-nav-section main-nav-section" url="/">
                <h6 class="ctrl-nav-section title">Introduction</h6>
                <ul class="cont-nav-section content">





                    <li><a href="/#introduction-welcome">Welcome to Steem</a></li>




                </ul>
            </section>


            <section class="pnl-main-nav-section main-nav-section" url="/quickstart/">
                <h6 class="ctrl-nav-section title">Quickstart</h6>
                <ul class="cont-nav-section content">





                    <li><a href="/quickstart/#quickstart-choose-library">Choose Library</a></li>



                    <li><a href="/quickstart/#quickstart-steemd-nodes">steemd Nodes</a></li>



                    <li><a href="/quickstart/#quickstart-testnet">Steem Testnet</a></li>




                </ul>
            </section>


            <section class="pnl-main-nav-section main-nav-section" url="/tutorials/">
                <h6 class="ctrl-nav-section title">Tutorials</h6>
                <ul class="cont-nav-section content">



                    <li><a href="/tutorials/#tutorials-javascript">Javascript</a></li>



                    <li><a href="/tutorials/#tutorials-python">Python</a></li>



                    <li><a href="/tutorials/#tutorials-ruby">Ruby</a></li>



                    <li><a href="/tutorials/#tutorials-recipes">Recipes</a></li>



                </ul>
            </section>


            <section class="pnl-main-nav-section main-nav-section" url="/services/">
                <h6 class="ctrl-nav-section title">Services</h6>
                <ul class="cont-nav-section content">





                    <li><a href="/services/#services-steemit">Steemit.com</a></li>



                    <li><a href="/services/#services-steemlogin">SteemLogin</a></li>



                    <li><a href="/services/#services-jussi">Jussi</a></li>



                    <li><a href="/services/#services-imagehoster">ImageHoster</a></li>



                    <li><a href="/services/#services-sbds">SBDS</a></li>




                </ul>
            </section>


            <section class="pnl-main-nav-section main-nav-section" url="/apidefinitions/">
                <h6 class="ctrl-nav-section title">Appbase API</h6>
                <ul class="cont-nav-section content">





                    <li><a href="/apidefinitions/#apidefinitions-condenser-api">Condenser Api</a></li>



                    <li><a href="/apidefinitions/#apidefinitions-broadcast-ops-comment">Broadcast Ops Comment</a></li>



                    <li><a href="/apidefinitions/#apidefinitions-account-by-key-api">Account By Key Api</a></li>



                    <li><a href="/apidefinitions/#apidefinitions-account-history-api">Account History Api</a></li>



                    <li><a href="/apidefinitions/#apidefinitions-database-api">Database Api</a></li>



                    <li><a href="/apidefinitions/#apidefinitions-follow-api">Follow Api</a></li>



                    <li><a href="/apidefinitions/#apidefinitions-jsonrpc">Jsonrpc</a></li>



                    <li><a href="/apidefinitions/#apidefinitions-market-history-api">Market History Api</a></li>



                    <li><a href="/apidefinitions/#apidefinitions-network-broadcast-api">Network Broadcast Api</a></li>



                    <li><a href="/apidefinitions/#apidefinitions-rc-api">Rc Api</a></li>



                    <li><a href="/apidefinitions/#apidefinitions-tags-api">Tags Api</a></li>



                    <li><a href="/apidefinitions/#apidefinitions-witness-api">Witness Api</a></li>



                    <li><a href="/apidefinitions/#apidefinitions-block-api">Block Api</a></li>



                    <li><a href="/apidefinitions/#apidefinitions-debug-node-api">Debug Node Api</a></li>



                    <li><a href="/apidefinitions/#apidefinitions-broadcast-ops">Broadcast Ops</a></li>




                </ul>
            </section>


            <section class="pnl-main-nav-section main-nav-section" url="/resources/">
                <h6 class="ctrl-nav-section title">Resources</h6>
                <ul class="cont-nav-section content">





                    <li><a href="/resources/#resources-overview">Overview</a></li>



                    <li><a href="/resources/#resources-client-libs">Client Libraries</a></li>



                    <li><a href="/resources/#resources-tools">Tools</a></li>



                    <li><a href="/resources/#resources-steem-login-libs">SteemLogin Libs</a></li>



                    <li><a href="/resources/#resources-developeradvocate">Community & Help</a></li>




                </ul>
            </section>


            <section class="pnl-main-nav-section main-nav-section" url="/glossary/">
                <h6 class="ctrl-nav-section title">Glossary</h6>
                <ul class="cont-nav-section content">





                    <li><a href="/glossary/#glossary-chain-basics">Chain Basics</a></li>





                    <li><a href="/glossary/#glossary-governance">Governance</a></li>



                    <li><a href="/glossary/#glossary-transactions">Transactions</a></li>



                    <li><a href="/glossary/#glossary-api">API</a></li>



                    <li><a href="/glossary/#glossary-market">Market</a></li>




                </ul>
            </section>

        </div>


        <!--<p class="copyright">-->
        <!--<a href="https://steemit.com.com/">-->
        <!--steemit-->
        <!--</a>-->
        <!--</p>-->
        <link href="https://fonts.googleapis.com/css?family=Nunito" rel="stylesheet">
    </header>
    <div class="main" id="top">
        <div class="hero">
            <h1 class="hero__h1">Steem Developer Portal </h1>

            <img class="hero__img" src="/images/hero.png">

        </div>
        <section id="tutorials-python-convert-sbd-to-steem" class="row tutorials-python-convert-sbd-to-steem">
            <h3>
                <a id="tutorials-python-convert-sbd-to-steem">
			PY: Convert Sbd To Steem
			
		</a>
            </h3>

            <span class="description"><p>How to convert your SBD to STEEM using Python.</p>
</span>


            <p><span class="fa-pull-left top-of-tutorial-repo-link"><span class="first-word">Full</span>, runnable src of <a href="https://github.com/steemit/devportal-tutorials-py/tree/master/tutorials/32_convert_sbd_to_steem">Convert Sbd To Steem</a> can
                be downloaded as part of the <a href="https://github.com/steemit/devportal-tutorials-py">PY tutorials repository</a>.</span>
                <br /></p>

            <p>In this tutorial we will explain and show you how to convert some or all of your available SBD balance into STEEM on the <strong>Steem</strong> blockchain using the <code class="highlighter-rouge">commit</code> class found within the <a href="https://github.com/steemit/steem-python">steem-python</a>                library.</p>

            <p>It should be noted that the converted STEEM will not be available instantly as it takes 3.5 days for the transaction to be processed. It is also not possible to stop a conversion once initialised. During the 3.5 days for it to be converted
                and as the conversion price fluctuates you could actually be receiving less STEEM than what you should. Because of this, the method in this tutorial is NOT the preferred or most efficient way of converting SBD to STEEM. This tutorial just
                illustrates that it can be done in this manner.</p>

            <p>There is a marketplace on Steemit that allows you to “sell” your SBD instantly. With this process you can get your STEEM immediately and at the exact price that you expect. The market place is the better way to convert your SBD. <a href="https://steemit.com/steem/@epico/convert-sbd-to-steem-and-steem-power-guide-2017625t103821622z">This article</a>                provides more information on using the market to exchange your SBD to STEEM</p>

            <p>Steemlogin offers an alternative to converting SBD with a “simple link” solution. Instead of running through a list of operations on your account, you can simply use a link similar to the one below substituting the three parameters for your
                own details. You will be prompted to enter your username and password before the transaction will be executed. https://steemlogin.com/sign/convert?owner=username&amp;requestid=1234567&amp;amount=0.000%20SBD This is similar to the steemlogin
                links that have been covered in previous tutorials. For a list of signing operations that work in this manner you can go to https://steemlogin.com/sign
                <a href="https://steemit.com/sbd/@timcliff/how-to-convert-sbd-into-steem-using-steemlogin">This article</a> has more information on using steemlogin</p>

            <h2 id="intro">Intro</h2>

            <p>The Steem python library has a built-in function to transmit transactions to the blockchain. We are using the <code class="highlighter-rouge">convert</code> method found within the <code class="highlighter-rouge">commit</code> class in the
                library. Before we do the conversion, we check the current balance of the account to check how much SBD is available. This is not strictly necessary as the process will automatically abort with the corresponding error, but it does give
                some insight into the process as a whole. We use the <code class="highlighter-rouge">get_account</code> function to check for this. The <code class="highlighter-rouge">convert</code> method has 3 parameters:</p>

            <ol>
                <li><em>amount</em> - The amount of SBD that will be converted</li>
                <li><em>account</em> - The specified user account for the conversion</li>
                <li><em>request-id</em> - An identifier for tracking the conversion. This parameter is optional</li>
            </ol>

            <h2 id="steps">Steps</h2>

            <ol>
                <li><a href="#setup"><strong>App setup</strong></a> - Library install and import. Connection to testnet</li>
                <li><a href="#userinfo"><strong>User information and steem node</strong></a> - Input user information and connection to Steem node</li>
                <li><a href="#balance"><strong>Check balance</strong></a> - Check current STEEM and SBD balance of user account</li>
                <li><a href="#convert"><strong>Conversion amount and commit</strong></a> - Input of SBD amount to convert and commit to blockchain</li>
            </ol>

            <h4 id="1-app-setup-">1. App setup
                <a name="setup"></a>
            </h4>

            <p>In this tutorial we only use 1 package:</p>

            <ul>
                <li><code class="highlighter-rouge">steem</code> - steem-python library and interaction with Blockchain</li>
            </ul>

            <p>We import the libraries and connect to the <code class="highlighter-rouge">testnet</code>.</p>

            <div class="language-python highlighter-rouge">
                <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">steembase</span>
<span class="kn">import</span> <span class="nn">steem</span>

<span class="n">steembase</span><span class="o">.</span><span class="n">chains</span><span class="o">.</span><span class="n">known_chains</span><span class="p">[</span><span class="s">'STEEM'</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'chain_id'</span><span class="p">:</span> <span class="s">'79276aea5d4877d9a25892eaa01b0adf019d3e5cb12a97478df3298ccdd01673'</span><span class="p">,</span>
    <span class="s">'prefix'</span><span class="p">:</span> <span class="s">'STX'</span><span class="p">,</span> <span class="s">'steem_symbol'</span><span class="p">:</span> <span class="s">'STEEM'</span><span class="p">,</span> <span class="s">'sbd_symbol'</span><span class="p">:</span> <span class="s">'SBD'</span><span class="p">,</span> <span class="s">'vests_symbol'</span><span class="p">:</span> <span class="s">'VESTS'</span>
<span class="p">}</span>
</code></pre></div>
            </div>

            <p>Because this tutorial alters the blockchain we connect to the testnet so we don’t create spam on the production server.</p>

            <h4 id="2-user-information-and-steem-node-">2. User information and steem node
                <a name="userinfo"></a>
            </h4>

            <p>We require the <code class="highlighter-rouge">private active key</code> of the user in order for the conversion to be committed to the blockchain. This is why we have to specify this alongside the <code class="highlighter-rouge">testnet</code>                node. The values are supplied via the terminal/console before we initialise the steem class. There is a demo account available to use with this tutorial but any account that is set up on the testnet can be used.</p>

            <div class="language-python highlighter-rouge">
                <div class="highlight"><pre class="highlight"><code><span class="c1">#capture user information
</span><span class="n">username</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s">'Enter username: '</span><span class="p">)</span> <span class="c1">#demo account: demo01
</span><span class="n">wif</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s">'Enter private ACTIVE key: '</span><span class="p">)</span> <span class="c1">#demo account: 5HxTntgeoLm4trnTz94YBsY6MpAap1qRVXEKsU5n1v2du1gAgVH
</span>
<span class="c1">#connect node and private active key
</span><span class="n">client</span> <span class="o">=</span> <span class="n">steem</span><span class="o">.</span><span class="n">Steem</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="p">[</span><span class="s">'https://testnet.steem.vc'</span><span class="p">],</span> <span class="n">keys</span><span class="o">=</span><span class="p">[</span><span class="n">wif</span><span class="p">])</span>
</code></pre></div>
            </div>

            <h4 id="3-check-balance-">3. Check balance
                <a name="balance"></a>
            </h4>

            <p>In order to give the user enough information to make the conversion we check the current balance of the account using the <code class="highlighter-rouge">get_account</code> function.</p>

            <div class="language-python highlighter-rouge">
                <div class="highlight"><pre class="highlight"><code><span class="c1">#get account balance for STEEM and SBD
</span><span class="n">userinfo</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_account</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
<span class="n">total_steem</span> <span class="o">=</span> <span class="n">userinfo</span><span class="p">[</span><span class="s">'balance'</span><span class="p">]</span>
<span class="n">total_sbd</span> <span class="o">=</span> <span class="n">userinfo</span><span class="p">[</span><span class="s">'sbd_balance'</span><span class="p">]</span>

<span class="k">print</span><span class="p">(</span><span class="s">'CURRENT ACCOUNT BALANCE:'</span> <span class="o">+</span> <span class="s">'</span><span class="se">\n</span><span class="s">'</span> <span class="o">+</span> <span class="n">total_steem</span> <span class="o">+</span> <span class="s">'</span><span class="se">\n</span><span class="s">'</span> <span class="o">+</span> <span class="n">total_sbd</span> <span class="o">+</span> <span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>
</code></pre></div>
            </div>

            <p>The result of the query is displayed in the console/terminal.</p>

            <h4 id="4-conversion-amount-and-commit-">4. Conversion amount and commit
                <a name="convert"></a>
            </h4>

            <p>The final step before we can commit the transaction to the blockchain is to assign the <code class="highlighter-rouge">amount</code> parameter. We do this via a simple input from the terminal/console.</p>

            <div class="language-python highlighter-rouge">
                <div class="highlight"><pre class="highlight"><code><span class="c1">#get recipient name
</span><span class="n">convert_amount</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s">'Enter the amount of SBD to convert to STEEM: '</span><span class="p">)</span>
</code></pre></div>
            </div>

            <p>This value must be greater than zero in order for the transaction to execute without any errors. Now that we have all the parameters we can do the actual transmission of the transaction to the blockchain.</p>

            <div class="language-python highlighter-rouge">
                <div class="highlight"><pre class="highlight"><code><span class="c1">#parameters: amount, account, request_id
</span><span class="n">client</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">convert_amount</span><span class="p">),</span> <span class="n">username</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">'</span><span class="se">\n</span><span class="s">'</span> <span class="o">+</span> <span class="n">convert_amount</span> <span class="o">+</span> <span class="s">' SBD has been converted to STEEM'</span><span class="p">)</span>
</code></pre></div>
            </div>

            <p>If no errors are encountered a simple confirmation is printed on the UI.</p>

            <p>As an added confirmation we check the balance of the user again and display it on the UI. This is not required at all but it serves as a more definitive confirmation that the conversion has been completed correctly.</p>

            <div class="language-python highlighter-rouge">
                <div class="highlight"><pre class="highlight"><code><span class="c1">#get remaining account balance for STEEM and SBD
</span><span class="n">userinfo</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_account</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
<span class="n">total_steem</span> <span class="o">=</span> <span class="n">userinfo</span><span class="p">[</span><span class="s">'balance'</span><span class="p">]</span>
<span class="n">total_sbd</span> <span class="o">=</span> <span class="n">userinfo</span><span class="p">[</span><span class="s">'sbd_balance'</span><span class="p">]</span>

<span class="k">print</span><span class="p">(</span><span class="s">'</span><span class="se">\n</span><span class="s">'</span> <span class="o">+</span> <span class="s">'REMAINING ACCOUNT BALANCE:'</span> <span class="o">+</span> <span class="s">'</span><span class="se">\n</span><span class="s">'</span> <span class="o">+</span> <span class="n">total_steem</span> <span class="o">+</span> <span class="s">'</span><span class="se">\n</span><span class="s">'</span> <span class="o">+</span> <span class="n">total_sbd</span><span class="p">)</span>
</code></pre></div>
            </div>

            <p>The STEEM balance will not yet have been updated as it takes 3.5 days to settle. The SBD will however show the new balance.</p>

            <p>We encourage users to play around with different values and data types to fully understand how this process works. You can also check the balances and transaction history on the <a href="http://condenser.steem.vc/">testnet portal</a>.</p>

            <h3 id="to-run-the-tutorial">To Run the tutorial</h3>

            <ol>
                <li><a href="https://github.com/steemit/devportal-tutorials-py/tree/master/tutorials/00_getting_started#dev-requirements">review dev requirements</a></li>
                <li>clone this repo</li>
                <li><code class="highlighter-rouge">cd tutorials/32_convert_sbd_to_steem</code></li>
                <li><code class="highlighter-rouge">pip install -r requirements.txt</code></li>
                <li><code class="highlighter-rouge">python index.py</code></li>
                <li>After a few moments, you should see a prompt for input in terminal screen.</li>
            </ol>

            <hr />

        </section>

    </div>
    <div class="footer">
        <a href="#">Back to top</a>
    </div>
    <script>
        document.getElementById("open-nav").addEventListener("click", function() {
            document.body.classList.toggle("nav-open");
        });
    </script>
</body>

</html>


<script src="/js/adjust.js"></script>