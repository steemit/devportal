<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" >

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
	<link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Cousine|Inconsolata" rel="stylesheet">
	<link rel="shortcut icon" type="image/png" href="/favicon.png">

	
	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/css/fontawesome-all.min.css">
	<script src="/js/main.js"></script>
	

	<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Using Hivemind | Steem Developer</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Using Hivemind" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Hivemind setup and API functionality" />
<meta property="og:description" content="Hivemind setup and API functionality" />
<link rel="canonical" href="https://developers.steem.io/tutorials-recipes/using-hivemind" />
<meta property="og:url" content="https://developers.steem.io/tutorials-recipes/using-hivemind" />
<meta property="og:site_name" content="Steem Developer" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-01-03T13:02:31-05:00" />
<script type="application/ld+json">
{"description":"Hivemind setup and API functionality","@type":"BlogPosting","url":"https://developers.steem.io/tutorials-recipes/using-hivemind","headline":"Using Hivemind","dateModified":"2019-01-03T13:02:31-05:00","datePublished":"2019-01-03T13:02:31-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://developers.steem.io/tutorials-recipes/using-hivemind"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


	
</head>
<body>
<header>
	<h1>
		<button type="button" class="open-nav" id="open-nav"></button>
		<a href="/"  class="logo-link"><img src="/images/logotype_white.svg" height="40" alt="Steem Developer logo"></a>
	</h1>

	
	<form action="/search/" method="get">
		<input type="text" name="q" id="search-input" placeholder="Search">
		<input type="submit" value="Search" style="display: none;">
	</form>
	

	<div id="sidebar" class="sidebar">
	
	
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/">
		<h6 class="ctrl-nav-section title">Introduction</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/#introduction-welcome">Welcome to Steem</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/quickstart/">
		<h6 class="ctrl-nav-section title">Quickstart</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/quickstart/#quickstart-choose-library">Choose Library</a></li>
						
					
						
						<li><a href="/quickstart/#quickstart-steemd-nodes">steemd Nodes</a></li>
						
					
						
						<li><a href="/quickstart/#quickstart-testnet">Steem Testnet</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/tutorials/">
		<h6 class="ctrl-nav-section title">Tutorials</h6>
		<ul class="cont-nav-section content">
			
				
					
						<li><a href="/tutorials/#tutorials-javascript">Javascript</a></li>
					
				
					
						<li><a href="/tutorials/#tutorials-python">Python</a></li>
					
				
					
						<li><a href="/tutorials/#tutorials-ruby">Ruby</a></li>
					
				
					
						<li><a href="/tutorials/#tutorials-recipes">Recipes</a></li>
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/services/">
		<h6 class="ctrl-nav-section title">Services</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/services/#services-steemit">Steemit.com</a></li>
						
					
						
						<li><a href="/services/#services-steemconnect">SteemConnect</a></li>
						
					
						
						<li><a href="/services/#services-jussi">Jussi</a></li>
						
					
						
						<li><a href="/services/#services-imagehoster">ImageHoster</a></li>
						
					
						
						<li><a href="/services/#services-sbds">SBDS</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/apidefinitions/">
		<h6 class="ctrl-nav-section title">Appbase API</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/apidefinitions/#apidefinitions-condenser-api">Condenser Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-account-by-key-api">Account By Key Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-broadcast-ops-comment">Broadcast Ops Comment</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-account-history-api">Account History Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-database-api">Database Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-follow-api">Follow Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-jsonrpc">Jsonrpc</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-market-history-api">Market History Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-network-broadcast-api">Network Broadcast Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-rc-api">Rc Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-reputation-api">Reputation Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-tags-api">Tags Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-block-api">Block Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-transaction-status-api">Transaction Status Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-debug-node-api">Debug Node Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-witness-api">Witness Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-broadcast-ops">Broadcast Ops</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/resources/">
		<h6 class="ctrl-nav-section title">Resources</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/resources/#resources-overview">Overview</a></li>
						
					
						
						<li><a href="/resources/#resources-bluepaper">Bluepaper</a></li>
						
					
						
						<li><a href="/resources/#resources-client-libs">Client Libraries</a></li>
						
					
						
						<li><a href="/resources/#resources-tools">Tools</a></li>
						
					
						
						<li><a href="/resources/#resources-whitepaper">Whitepaper</a></li>
						
					
						
						<li><a href="/resources/#resources-steem-connect-libs">SteemConnect Libs</a></li>
						
					
						
						<li><a href="/resources/#resources-developeradvocate">Community & Help</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/glossary/">
		<h6 class="ctrl-nav-section title">Glossary</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/glossary/#glossary-chain-basics">Chain Basics</a></li>
						
					
						
					
						
						<li><a href="/glossary/#glossary-governance">Governance</a></li>
						
					
						
						<li><a href="/glossary/#glossary-transactions">Transactions</a></li>
						
					
						
						<li><a href="/glossary/#glossary-api">API</a></li>
						
					
						
						<li><a href="/glossary/#glossary-market">Market</a></li>
						
					
				
			
		</ul>
	</section>
	
</div>


	<!--<p class="copyright">-->
	<!--<a href="https://steemit.com.com/">-->
	<!--steemit-->
	<!--</a>-->
	<!--</p>-->
	<link href="https://fonts.googleapis.com/css?family=Nunito" rel="stylesheet">
</header>
<div class="main" id="top">
	<div class="hero">
		<h1 class="hero__h1">Steem Developer Portal </h1>
		
		<img class="hero__img" src="/images/hero.png">
		
	</div>
	<section id="tutorials-recipes-using-hivemind" class="row tutorials-recipes-using-hivemind">
	<h3>
		<a id="tutorials-recipes-using-hivemind">
			Using Hivemind
			
		</a>
	</h3>
	
		<span class="description"><p>Hivemind setup and API functionality</p>
</span>
	

	<h2 id="intro">Intro</h2>

<p>Hive is a “consensus interpretation” layer for the Steem blockchain, maintaining the state of social features such as post feeds, follows, and communities. Written in Python, it synchronizes an SQL database with chain state, providing developers with a more flexible/extensible alternative to the raw steemd API. This means that you can bypass steemd and access data in a more traditional way, for example, with SQL. But you can’t use SQL on steemd. So Hivemind solves that problem. Hive does not support any queries to do with wallets, orders, escrow, keys, recovery, or account history.</p>

<p>A good source of additional information on hive and how to use it can be found in <a href="https://steemit.com/hivemind/@inertia/hivemind-queries">this Steemit article</a> by @inertia.</p>

<h4 id="supported-api-functionality">Supported API functionality:</h4>

<p><strong>Core API set available in Hive:</strong></p>

<ul>
  <li>condenser_api.get_follow_count</li>
  <li>condenser_api.get_followers</li>
  <li>condenser_api.get_following</li>
  <li>condenser_api.get_discussions_by_trending</li>
  <li>condenser_api.get_discussions_by_hot</li>
  <li>condenser_api.get_discussions_by_promoted</li>
  <li>condenser_api.get_discussions_by_created</li>
  <li>condenser_api.get_discussions_by_blog</li>
  <li>condenser_api.get_discussions_by_feed</li>
  <li>condenser_api.get_discussions_by_comments</li>
  <li>condenser_api.get_discussions_by_last_update</li>
  <li>condenser_api.get_content</li>
  <li>condenser_api.get_state</li>
</ul>

<p><strong>Additional functions available within hive-steem library</strong></p>

<p>The majority of these functions are reliant on steemd so any changes to steemd would affect these function calls. The only two functions not directly reliant on steemd are <code class="highlighter-rouge">stream_blocks</code> and <code class="highlighter-rouge">get_steem_per_mvest</code>.</p>

<ul>
  <li>get_accounts</li>
  <li>get_all_account_names</li>
  <li>get_content_batch</li>
  <li>get_block</li>
  <li>stream_blocks</li>
  <li>_gdgp (get dynamic global properties)</li>
  <li>head_time</li>
  <li>head_block</li>
  <li>last_irreversible</li>
  <li>gdgp_extended</li>
  <li>get_steem_per_mvest</li>
  <li>get_feed_price</li>
  <li>get_steem_price</li>
  <li>get_blocks_range</li>
</ul>

<p>Detailed information on the hive-steem library can be found in the <a href="https://github.com/steemit/hivemind/blob/master/hive/steem/client.py">Hivemind repo</a>.</p>

<h4 id="hivemind-dependencies-and-setup">Hivemind dependencies and setup</h4>

<p>Hivemind is available as a pre-built docker image which can be downloaded directly from Dockerhub at <a href="https://hub.docker.com/r/steemit/hivemind/">https://hub.docker.com/r/steemit/hivemind/</a>.</p>

<p>If you would prefer to install Hivemind yourself you can do so following the basic instructions below.</p>

<p>This setup can be performed on an Ubuntu server.</p>

<p>There are two dependencies for setting up the dev environment on ubuntu for running hivemind:</p>

<ul>
  <li>Python</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>apt-get <span class="nb">install </span>python3 python3-pip
</code></pre></div></div>

<ul>
  <li>Postgres</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>apt-get <span class="nb">install </span>postgresql
</code></pre></div></div>

<p>More detailed documentation on the setup of Hivemind can be found at the <a href="https://github.com/steemit/hivemind">Hivemind github repository</a>.</p>

<p>Once the dependencies have been installed the database can be created and the environment variables set.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>createdb hive
<span class="nv">$ </span><span class="nb">export </span><span class="nv">DATABASE_URL</span><span class="o">=</span>postgresql://user:pass@localhost:5432/hive
</code></pre></div></div>

<p>By default Hivemind will connect to the mainnet <a href="https://api.steemit.com">https://api.steemit.com</a> but if required you can change this to connect to a testnet. To do this set the environment variable as described below.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">export </span><span class="nv">STEEMD_URL</span><span class="o">=</span>https://testnet.steem.vc
</code></pre></div></div>

<p>Now that the basic setup is done you are able to sync the database.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>hive <span class="nb">sync</span>
</code></pre></div></div>

<p>You can also check the status of your synced database.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>hive status
</code></pre></div></div>

<p>Once the synchronization is complete you can start the Hivemind server which will allow you to start performing queries on your local database.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>hive server
</code></pre></div></div>

<p>By default the server is available on <a href="http://0.0.0.0:8080">http://0.0.0.0:8080</a>, this can also be changed by adding an environment variable.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">export </span><span class="nv">HTTP_SERVER_PORT</span><span class="o">=</span>8090
</code></pre></div></div>

</section>

</div>
<div class="footer">
	<a href="#">Back to top</a>
</div>
<script>
    document.getElementById("open-nav").addEventListener("click", function () {
        document.body.classList.toggle("nav-open");
    });
</script>
</body>
</html>


<script src="/js/adjust.js"></script>

